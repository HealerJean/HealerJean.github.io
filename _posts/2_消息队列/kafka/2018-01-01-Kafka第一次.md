---
title: Kafka第一次
date: 2018-01-01 03:33:00
tags: 
- MQ
category: 
- MQ
description: Kafka第一次
---



**前言**     

 Github：[https://github.com/HealerJean](https://github.com/HealerJean)         

 博客：[http://blog.healerjean.com](http://HealerJean.github.io)          



# 1、kafka简介

## 1.1、基本概念

### 1.1.1、`Broker`

> **Broker：Kafka集群中的一台或多台服务器**   



### 1.1.2、`Topic`

> **Topic：发布到 Kafka 的每条消息都有一个类别， 这个类别就被称为 Topic**       
>
> 物理上： 不同 `Topic` 的消息分开存储;      
>
> 逻辑上，虽然一个 `Topic` 的消息被保存在一个或多个 `Broker`上 ， 但用户只需指定消息的 Topic 即可生产或消费数据 ， 而不必关心数据存于何处    



### 1.1.3、 `Partition`

> `Partition`：物理上的 `Topic` 分区 ， 一个 `Topic` 可以分为 多个 `Partition`， 每个 `Partition` 都是一个有序的队列 。 `Partition `中的每条消息都会被分配-个有序的 ID (offset)。



### 1.1.3、`Producer `

>  `Producer`：消息和数据的生产者，可 以理解为向 Kafka发消息的客户端。 



### 1.1.4、`Consumer`

> `Consumer`：消息和 数据的消费者 ，可以理解为从 Kafka 取消息的 客户端。



### 1.1.3、`Consumer Group`

> `Consumer Group (消费者组〉`:每个消费者都属于一个特定的消费者组(可为每个消费者指定组名， 若不指定组名，则属于默认的组)     这是 Kafka 用来实现一个 `Topic` 消息 的广播(发送给所有的消费者〉 和单播(发送给任意一个消费者) 的手段。     
>
>  **一个 `Topic `可以有多个消费者组。 Topic 的消息会被复制(不是真的复制， 是概念上的)到所有的 消费者组中，但每个消费者组只会把消息发送给该组中的 一个消费者。**    
>
> 
>
> > 如果要实现广 播， 只要每个消费者都有一个独立的消费者组就可以了;        
> >
> > 如果要实现单播，只要所有的消费者都在同 一 个消费者组中就行。   
>
> 使用消费者组还可以对消费者进行自由分组， 而不需要多次发送消息到不同的 Topic。





## 1.2、典型的kafka集群

一个典型的 `Kafka` 集群中包含      

1、若干生产者：可以是前端浏览器发起的页面访问或服务器日志等、       

2、若干 `Broker `：Kafka支持水平扩展， 一般 Broker数量越多集群吞吐率越大        、

3、若干消费者组    

4、以及一个 `ZooKeeper`集群。`Kafka`通过 `ZooKeeper`管理集群配置、选举` leader`, 以及当消费者组发生变化时进行 `Rebalance` (再均衡)。**生产者使用推模式将消息发布到 `Broker`, 消费者使用拉模式从 `Broker`订阅并消费消息。**



![image-20210131171058822](/Users/healerjean/Desktop/HealerJean/HCode/HealerJean.github.io/blogImages/image-20210131171058822.png)



# 2、访问Kafka



## 1.2、java访问







# 疑问：

## 1、下面这句话是什么意思

> 使用消费者组还可以对消费者进行自由分组， 而不需要多次发送消息到不同的 Topic。   



## 2、zookeeper的作用是什么






![ContactAuthor](https://raw.githubusercontent.com/HealerJean/HealerJean.github.io/master/assets/img/artical_bottom.jpg)





<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

<script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script> 
<div id="gitalk-container"></div>    
 <script type="text/javascript">
    var gitalk = new Gitalk({
		clientID: `1d164cd85549874d0e3a`,
		clientSecret: `527c3d223d1e6608953e835b547061037d140355`,
		repo: `HealerJean.github.io`,
		owner: 'HealerJean',
		admin: ['HealerJean'],
		id: 'gmrq8jM0hOtBRsai',
    });
    gitalk.render('gitalk-container');
</script> 

