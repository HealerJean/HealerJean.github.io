<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title></title>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../style.css" TITLE="Style">
</head>
<body>
<TABLE cellspacing="0" cellpadding="2"><TBODY>
    <!-- C:\ Programme\ eclipse\ workspace\ oscache\ src\ java\ com\ opensymphony\ oscache\ util\ FastCronParser.java -->
  <TR>
    <TD colspan="6" class="reportHeader">
    <TABLE width="100%"><TR>
    <TD valign="top" class="titleText">Clover coverage report -    <DIV class="timestamp"><b>Coverage timestamp:</b>&nbsp;Sa Jul 7 2007 09:11:40 CEST</DIV>
            <DIV class="navBar"><a href="../../../../pkgs-summary.html"><b>Overview</b></a>&nbsp;&nbsp;&nbsp;<a href="pkg-summary.html"><b>Package</b></a>&nbsp;&nbsp;&nbsp;<font class="navBarCurrent">File</font></DIV>
    
<DIV class="navBarLink">
&nbsp;&nbsp;&nbsp;
    <A HREF="../../../../index.html" TARGET="_top">FRAMES</A>&nbsp;&nbsp;
<A HREF="FastCronParser.html" TARGET="_top">NO FRAMES</A>&nbsp;&nbsp;
    </DIV>

</TD>
         <td class="headerStats" valign="top" width="40%" align="right">
        <table align="right">
         <tr>
           <td nowrap><b>file stats:</b></td>
           <td align="right"><b>LOC:</b></td>
           <td align="right">1.042</td>
           <td width="10%">&nbsp;</td>
           <td align="right"><b>Methods:</b></td>
           <td align="right">18</td>
         </tr>
         <tr>
           <td></td>
           <td align="right"><b>NCLOC:</b></td>
           <td align="right">611</td>
           <td width="10%">&nbsp;</td>
           <td align="right"><b>Classes:</b></td>
           <td align="right">2</td>
         </tr>
      </table>
     </td>
    </TR></TABLE>
   </TD>
  </TR>

<TR><TD class="hbreak" colspan="6">&nbsp;</TD></TR>
  <TR>
    <TD class="graphHeaderLeft"><b>&nbsp;Source file</b></TD>
    <TD class="graphHeader">Conditionals</TD>
    <TD class="graphHeader">Statements</TD>
    <TD class="graphHeader">Methods</TD>
    <TD class="graphHeader" align="left" colspan="2"><B>TOTAL</B></TD>
  </TR>   
  <TR>
    <TD class="graphItem">
        	   FastCronParser.java
	    </TD>
   
    <TD class="graphPercent" align="center">94,8%</TD>
    <TD class="graphPercent" align="center">97,6%</TD>
    <TD class="graphPercent" align="center">94,4%</TD>
    <TD class="graphBarLeft" align="center"><B>96,5%</B></TD>
    <TD class="graphBar">
            <TABLE class="barGraph" cellspacing="0">
        <TBODY>
          <TR>
	               <TD class="covered"><img alt="coverage" src="../../../../img/trans.gif"
                   width="192" height="12"></TD>
            <TD class="uncovered"><img alt="coverage" src="../../../../img/trans.gif"
                   width="8" height="12"></TD>
	   	  </TR>
	</TBODY>
      </TABLE>
          </TD>
  </TR> 
</TBODY></TABLE><TABLE cellspacing="0" cellpadding="0" class="srcView"><TBODY>
<TR><TD align="right" class="lineCount">
&nbsp;1</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">/*</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;2</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment"> * Copyright (c) 2002-2003 by OpenSymphony</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;3</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment"> * All rights reserved.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;4</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment"> */</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;5</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="keyword">package</span> com.opensymphony.oscache.util;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;6</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;7</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="keyword">import</span> java.text.ParseException;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;8</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;9</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="keyword">import</span> java.util.*;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;10</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="keyword">import</span> java.util.Calendar;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;11</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;12</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;13</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment"> * Parses cron expressions and determines at what time in the past is the</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;14</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment"> * most recent match for the supplied expression.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;15</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment"> *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;16</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment"> * <span class="javadoc">@author</span> &lt;a href="&amp;#109;a&amp;#105;&amp;#108;&amp;#116;&amp;#111;:chris&amp;#64;swebtec.&amp;#99;&amp;#111;&amp;#109;"&gt;Chris Miller&lt;/a&gt;</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;17</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment"> * <span class="javadoc">@author</span> $Author: ltorunski $</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;18</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment"> * <span class="javadoc">@version</span> $Revision: 340 $</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;19</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment"> */</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
<A name="FastCronParser">&nbsp;20</A></TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="keyword">public</span> <span class="keyword">class</span> FastCronParser {</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;21</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">int</span> NUMBER_OF_CRON_FIELDS = 5;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;22</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">int</span> MINUTE = 0;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;23</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">int</span> HOUR = 1;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;24</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">int</span> DAY_OF_MONTH = 2;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;25</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">int</span> MONTH = 3;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;26</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">int</span> DAY_OF_WEEK = 4;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;27</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;28</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">// Lookup tables that hold the min/max/size of each of the above field types.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;29</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">// These tables are precalculated for performance.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;30</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">int</span>[] MIN_VALUE = {0, 0, 1, 1, 0};</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;31</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">int</span>[] MAX_VALUE = {59, 23, 31, 12, 6};</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;32</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;33</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;34</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">     * A lookup table holding the number of days in each month (with the obvious exception</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;35</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">     * that February requires special handling).</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;36</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">     */</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;37</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">int</span>[] DAYS_IN_MONTH = {</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;38</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;39</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    };</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;40</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;41</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;42</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">     * Holds the raw cron expression that this parser is handling.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;43</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">     */</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;44</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> String cronExpression = <span class="keyword">null</span>;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;45</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;46</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;47</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * This is the main lookup table that holds a parsed cron expression. each long</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;48</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * represents one of the above field types. Bits in each long value correspond</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;49</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * to one of the possbile field values - eg, for the minute field, bits 0 -&gt; 59 in</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;50</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * &lt;code&gt;lookup[MINUTE]&lt;/code&gt; map to minutes 0 -&gt; 59 respectively. Bits are set if</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;51</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * the corresponding value is enabled. So if the minute field in the cron expression</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;52</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * was &lt;code&gt;"0,2-8,50"&lt;/code&gt;, bits 0, 2, 3, 4, 5, 6, 7, 8 and 50 will be set.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;53</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * If the cron expression is &lt;code&gt;"*"&lt;/code&gt;, the long value is set to</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;54</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * &lt;code&gt;Long.MAX_VALUE&lt;/code&gt;.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;55</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;56</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">long</span>[] lookup = {</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;57</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        Long.MAX_VALUE, Long.MAX_VALUE, Long.MAX_VALUE, Long.MAX_VALUE,</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;58</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        Long.MAX_VALUE</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;59</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    };</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;60</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;61</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;62</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * This is based on the contents of the &lt;code&gt;lookup&lt;/code&gt; table. It holds the</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;63</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * &lt;em&gt;highest&lt;/em&gt; valid field value for each field type.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;64</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;65</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">int</span>[] lookupMax = {-1, -1, -1, -1, -1};</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;66</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;67</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;68</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * This is based on the contents of the &lt;code&gt;lookup&lt;/code&gt; table. It holds the</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;69</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * &lt;em&gt;lowest&lt;/em&gt; valid field value for each field type.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;70</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;71</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">private</span> <span class="keyword">int</span>[] lookupMin = {</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;72</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        Integer.MAX_VALUE, Integer.MAX_VALUE, Integer.MAX_VALUE,</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;73</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        Integer.MAX_VALUE, Integer.MAX_VALUE</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;74</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    };</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;75</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;76</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;77</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Creates a FastCronParser that uses a default cron expression of &lt;code&gt;"* * * * *"&lt;/cron&gt;.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;78</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * This will match any time that is supplied.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;79</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;80</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 80: method entered 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 80: method entered 25 times.">    <span class="keyword">public</span> FastCronParser() {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;81</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;82</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;83</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;84</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Constructs a new FastCronParser based on the supplied expression.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;85</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;86</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@throws</span> ParseException if the supplied expression is not a valid cron expression.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;87</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;88</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 88: method entered 395 times.">&nbsp;395</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 88: method entered 395 times.">    <span class="keyword">public</span> FastCronParser(String cronExpression) <span class="keyword">throws</span> ParseException {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;89</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 89: statement executed 395 times.">&nbsp;395</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 89: statement executed 395 times.">        setCronExpression(cronExpression);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;90</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;91</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;92</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;93</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Resets the cron expression to the value supplied.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;94</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;95</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> cronExpression the new cron expression.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;96</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;97</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@throws</span> ParseException if the supplied expression is not a valid cron expression.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;98</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;99</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 99: method entered 10050415 times.">&nbsp;10050415</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 99: method entered 10050415 times.">    <span class="keyword">public</span> <span class="keyword">void</span> setCronExpression(String cronExpression) <span class="keyword">throws</span> ParseException {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;100</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 100: statement executed 10050415 times.">&nbsp;10050415</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 100: statement executed 10050415 times.">        <span class="keyword">if</span> (cronExpression == <span class="keyword">null</span>) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;101</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 101: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 101: statement executed 5 times.">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Cron time expression cannot be null"</span>);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;102</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;103</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;104</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 104: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 104: statement executed 10050410 times.">        <span class="keyword">this</span>.cronExpression = cronExpression;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;105</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 105: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 105: statement executed 10050410 times.">        parseExpression(cronExpression);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;106</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;107</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;108</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;109</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Retrieves the current cron expression.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;110</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;111</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span> the current cron expression.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;112</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;113</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 113: method entered 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 113: method entered 15 times.">    <span class="keyword">public</span> String getCronExpression() {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;114</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 114: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 114: statement executed 15 times.">        <span class="keyword">return</span> <span class="keyword">this</span>.cronExpression;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;115</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;116</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;117</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;118</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Determines whether this cron expression matches a date/time that is more recent</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;119</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * than the one supplied.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;120</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;121</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> time The time to compare the cron expression against.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;122</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;123</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span> &lt;code&gt;true&lt;/code&gt; if the cron expression matches a time that is closer</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;124</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * to the current time than the supplied time is, &lt;code&gt;false&lt;/code&gt; otherwise.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;125</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;126</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 126: method not entered.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 126: method not entered.">    <span class="keyword">public</span> <span class="keyword">boolean</span> hasMoreRecentMatch(<span class="keyword">long</span> time) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;127</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 127: statement not executed.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 127: statement not executed.">        <span class="keyword">return</span> time &lt; getTimeBefore(System.currentTimeMillis());</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;128</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;129</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;130</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;131</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Find the most recent time that matches this cron expression. This time will</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;132</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * always be in the past, ie a lower value than the supplied time.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;133</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;134</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> time The time (in milliseconds) that we're using as our upper bound.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;135</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;136</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span> The time (in milliseconds) when this cron event last occurred.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;137</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;138</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 138: method entered 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 138: method entered 20050210 times.">    <span class="keyword">public</span> <span class="keyword">long</span> getTimeBefore(<span class="keyword">long</span> time) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;139</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        <span class="comment">// It would be nice to get rid of the Calendar class for speed, but it's a lot of work...</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;140</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        <span class="comment">// We create this</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;141</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 141: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 141: statement executed 20050210 times.">        Calendar cal = <span class="keyword">new</span> GregorianCalendar();</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;142</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 142: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 142: statement executed 20050210 times.">        cal.setTimeInMillis(time);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;143</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;144</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 144: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 144: statement executed 20050210 times.">        <span class="keyword">int</span> minute = cal.get(Calendar.MINUTE);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;145</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 145: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 145: statement executed 20050210 times.">        <span class="keyword">int</span> hour = cal.get(Calendar.HOUR_OF_DAY);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;146</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 146: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 146: statement executed 20050210 times.">        <span class="keyword">int</span> dayOfMonth = cal.get(Calendar.DAY_OF_MONTH);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;147</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 147: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 147: statement executed 20050210 times.">        <span class="keyword">int</span> month = cal.get(Calendar.MONTH) + 1; <span class="comment">// Calendar is 0-based for this field, and we are 1-based</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;148</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 148: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 148: statement executed 20050210 times.">        <span class="keyword">int</span> year = cal.get(Calendar.YEAR);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;149</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;150</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 150: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 150: statement executed 20050210 times.">        <span class="keyword">long</span> validMinutes = lookup[MINUTE];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;151</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 151: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 151: statement executed 20050210 times.">        <span class="keyword">long</span> validHours = lookup[HOUR];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;152</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 152: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 152: statement executed 20050210 times.">        <span class="keyword">long</span> validDaysOfMonth = lookup[DAY_OF_MONTH];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;153</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 153: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 153: statement executed 20050210 times.">        <span class="keyword">long</span> validMonths = lookup[MONTH];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;154</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 154: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 154: statement executed 20050210 times.">        <span class="keyword">long</span> validDaysOfWeek = lookup[DAY_OF_WEEK];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;155</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;156</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        <span class="comment">// Find out if we have a Day of Week or Day of Month field</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;157</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 157: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 157: statement executed 20050210 times.">        <span class="keyword">boolean</span> haveDOM = validDaysOfMonth != Long.MAX_VALUE;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;158</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 158: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 158: statement executed 20050210 times.">        <span class="keyword">boolean</span> haveDOW = validDaysOfWeek != Long.MAX_VALUE;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;159</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;160</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 160: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 160: statement executed 20050210 times.">        <span class="keyword">boolean</span> skippedNonLeapYear = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;161</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;162</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 162: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 162: statement executed 20050210 times.">        <span class="keyword">while</span> (<span class="keyword">true</span>) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;163</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 163: statement executed 20050395 times.">&nbsp;20050395</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 163: statement executed 20050395 times.">            <span class="keyword">boolean</span> retry = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;164</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;165</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// Clean up the month if it was wrapped in a previous iteration</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;166</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 166: statement executed 20050395 times.">&nbsp;20050395</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 166: statement executed 20050395 times.">            <span class="keyword">if</span> (month &lt; 1) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;167</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 167: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 167: statement executed 35 times.">                month += 12;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;168</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 168: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 168: statement executed 35 times.">                year--;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;169</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;170</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;171</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// get month...................................................</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;172</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 172: statement executed 20050395 times.">&nbsp;20050395</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 172: statement executed 20050395 times.">            <span class="keyword">boolean</span> found = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;173</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;174</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 174: statement executed 20050395 times.">&nbsp;20050395</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 174: statement executed 20050395 times.">            <span class="keyword">if</span> (validMonths != Long.MAX_VALUE) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;175</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 175: statement executed 10050135 times.">&nbsp;10050135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 175: statement executed 10050135 times.">                <span class="keyword">for</span> (<span class="keyword">int</span> i = month + 11; i &gt; (month - 1); i--) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;176</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 176: statement executed 110600945 times.">&nbsp;110600945</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 176: statement executed 110600945 times.">                    <span class="keyword">int</span> testMonth = (i % 12) + 1;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;177</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;178</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    <span class="comment">// Check if the month is valid</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;179</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 179: statement executed 110600945 times.">&nbsp;110600945</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 179: statement executed 110600945 times.">                    <span class="keyword">if</span> (((1L &lt;&lt; (testMonth - 1)) &amp; validMonths) != 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;180</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 180: statement executed 10050135 times.">&nbsp;10050135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 180: statement executed 10050135 times.">                        <span class="keyword">if</span> ((testMonth &gt; month) || skippedNonLeapYear) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;181</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 181: statement executed 10050075 times.">&nbsp;10050075</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 181: statement executed 10050075 times.">                            year--;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;182</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;183</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;184</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        <span class="comment">// Check there are enough days in this month (catches non leap-years trying to match the 29th Feb)</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;185</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 185: statement executed 10050135 times.">&nbsp;10050135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 185: statement executed 10050135 times.">                        <span class="keyword">int</span> numDays = numberOfDaysInMonth(testMonth, year);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;186</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;187</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 187: statement executed 10050135 times.">&nbsp;10050135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 187: statement executed 10050135 times.">                        <span class="keyword">if</span> (!haveDOM || (numDays &gt;= lookupMin[DAY_OF_MONTH])) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;188</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 188: statement executed 10050090 times.">&nbsp;10050090</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 188: statement executed 10050090 times.">                            <span class="keyword">if</span> ((month != testMonth) || skippedNonLeapYear) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;189</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                                <span class="comment">// New DOM = min(maxDOM, prevDays);  ie, the highest valid value</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;190</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 190: statement executed 10050070 times.">&nbsp;10050070</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 190: statement executed 10050070 times.">                                dayOfMonth = (numDays &lt;= lookupMax[DAY_OF_MONTH]) ? numDays : lookupMax[DAY_OF_MONTH];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;191</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 191: statement executed 10050070 times.">&nbsp;10050070</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 191: statement executed 10050070 times.">                                hour = lookupMax[HOUR];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;192</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 192: statement executed 10050070 times.">&nbsp;10050070</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 192: statement executed 10050070 times.">                                minute = lookupMax[MINUTE];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;193</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 193: statement executed 10050070 times.">&nbsp;10050070</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 193: statement executed 10050070 times.">                                month = testMonth;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;194</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;195</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;196</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 196: statement executed 10050090 times.">&nbsp;10050090</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 196: statement executed 10050090 times.">                            found = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;197</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 197: statement executed 10050090 times.">&nbsp;10050090</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 197: statement executed 10050090 times.">                            <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;198</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;199</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;200</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;201</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;202</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 202: statement executed 10050135 times.">&nbsp;10050135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 202: statement executed 10050135 times.">                skippedNonLeapYear = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;203</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;204</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 204: statement executed 10050135 times.">&nbsp;10050135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 204: statement executed 10050135 times.">                <span class="keyword">if</span> (!found) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;205</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    <span class="comment">// The only time we drop out here is when we're searching for the 29th of February and no other date!</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;206</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 206: statement executed 45 times.">&nbsp;45</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 206: statement executed 45 times.">                    skippedNonLeapYear = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;207</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 207: statement executed 45 times.">&nbsp;45</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 207: statement executed 45 times.">                    <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;208</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;209</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;210</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;211</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// Clean up if the dayOfMonth was wrapped. This takes leap years into account.</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;212</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 212: statement executed 20050350 times.">&nbsp;20050350</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 212: statement executed 20050350 times.">            <span class="keyword">if</span> (dayOfMonth &lt; 1) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;213</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 213: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 213: statement executed 25 times.">                month--;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;214</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 214: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 214: statement executed 25 times.">                dayOfMonth += numberOfDaysInMonth(month, year);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;215</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 215: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 215: statement executed 25 times.">                hour = lookupMax[HOUR];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;216</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 216: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 216: statement executed 25 times.">                <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;217</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;218</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;219</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// get day...................................................</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;220</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 220: statement executed 20050325 times.">&nbsp;20050325</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 220: statement executed 20050325 times.">            <span class="keyword">if</span> (haveDOM &amp;&amp; !haveDOW) { <span class="comment">// get day using just the DAY_OF_MONTH token</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;221</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;222</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 222: statement executed 10050090 times.">&nbsp;10050090</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 222: statement executed 10050090 times.">                <span class="keyword">int</span> daysInThisMonth = numberOfDaysInMonth(month, year);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;223</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 223: statement executed 10050090 times.">&nbsp;10050090</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 223: statement executed 10050090 times.">                <span class="keyword">int</span> daysInPreviousMonth = numberOfDaysInMonth(month - 1, year);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;224</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;225</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                <span class="comment">// Find the highest valid day that is below the current day</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;226</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 226: expression evaluated to true 10050415 times, false 0 times.">&nbsp;10050415</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 226: expression evaluated to true 10050415 times, false 0 times.">                <span class="keyword">for</span> (<span class="keyword">int</span> i = dayOfMonth + 30; i &gt; (dayOfMonth - 1); i--) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;227</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 227: statement executed 10050415 times.">&nbsp;10050415</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 227: statement executed 10050415 times.">                    <span class="keyword">int</span> testDayOfMonth = (i % 31) + 1;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;228</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;229</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    <span class="comment">// Skip over any days that don't actually exist (eg 31st April)</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;230</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 230: expression evaluated to true 0 times, false 10050415 times.">&nbsp;10050415</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 230: expression evaluated to true 0 times, false 10050415 times.">                    <span class="keyword">if</span> ((testDayOfMonth &lt;= dayOfMonth) &amp;&amp; (testDayOfMonth &gt; daysInThisMonth)) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;231</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 231: statement not executed.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 231: statement not executed.">                        <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;232</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;233</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;234</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 234: statement executed 10050415 times.">&nbsp;10050415</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 234: statement executed 10050415 times.">                    <span class="keyword">if</span> ((testDayOfMonth &gt; dayOfMonth) &amp;&amp; (testDayOfMonth &gt; daysInPreviousMonth)) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;235</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 235: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 235: statement executed 5 times.">                        <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;236</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;237</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;238</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 238: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 238: statement executed 10050410 times.">                    <span class="keyword">if</span> (((1L &lt;&lt; (testDayOfMonth - 1)) &amp; validDaysOfMonth) != 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;239</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 239: statement executed 10050090 times.">&nbsp;10050090</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 239: statement executed 10050090 times.">                        <span class="keyword">if</span> (testDayOfMonth &gt; dayOfMonth) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;240</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                            <span class="comment">// We've found a valid day, but we had to move back a month</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;241</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 241: statement executed 30 times.">&nbsp;30</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 241: statement executed 30 times.">                            month--;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;242</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 242: statement executed 30 times.">&nbsp;30</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 242: statement executed 30 times.">                            retry = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;243</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;244</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;245</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 245: statement executed 10050090 times.">&nbsp;10050090</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 245: statement executed 10050090 times.">                        <span class="keyword">if</span> (dayOfMonth != testDayOfMonth) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;246</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 246: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 246: statement executed 35 times.">                            hour = lookupMax[HOUR];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;247</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 247: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 247: statement executed 35 times.">                            minute = lookupMax[MINUTE];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;248</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;249</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;250</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 250: statement executed 10050090 times.">&nbsp;10050090</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 250: statement executed 10050090 times.">                        dayOfMonth = testDayOfMonth;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;251</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 251: statement executed 10050090 times.">&nbsp;10050090</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 251: statement executed 10050090 times.">                        <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;252</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;253</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;254</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;255</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 255: statement executed 10050090 times.">&nbsp;10050090</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 255: statement executed 10050090 times.">                <span class="keyword">if</span> (retry) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;256</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 256: statement executed 30 times.">&nbsp;30</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 256: statement executed 30 times.">                    <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;257</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;258</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 258: statement executed 10000235 times.">&nbsp;10000235</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 258: statement executed 10000235 times.">            } <span class="keyword">else</span> <span class="keyword">if</span> (haveDOW &amp;&amp; !haveDOM) { <span class="comment">// get day using just the DAY_OF_WEEK token</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;259</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;260</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 260: statement executed 75 times.">&nbsp;75</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 260: statement executed 75 times.">                <span class="keyword">int</span> daysLost = 0;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;261</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 261: statement executed 75 times.">&nbsp;75</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 261: statement executed 75 times.">                <span class="keyword">int</span> currentDOW = dayOfWeek(dayOfMonth, month, year);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;262</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;263</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 263: expression evaluated to true 260 times, false 0 times.">&nbsp;260</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 263: expression evaluated to true 260 times, false 0 times.">                <span class="keyword">for</span> (<span class="keyword">int</span> i = currentDOW + 7; i &gt; currentDOW; i--) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;264</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 264: statement executed 260 times.">&nbsp;260</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 264: statement executed 260 times.">                    <span class="keyword">int</span> testDOW = i % 7;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;265</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;266</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 266: statement executed 260 times.">&nbsp;260</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 266: statement executed 260 times.">                    <span class="keyword">if</span> (((1L &lt;&lt; testDOW) &amp; validDaysOfWeek) != 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;267</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 267: statement executed 75 times.">&nbsp;75</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 267: statement executed 75 times.">                        dayOfMonth -= daysLost;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;268</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;269</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 269: statement executed 75 times.">&nbsp;75</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 269: statement executed 75 times.">                        <span class="keyword">if</span> (dayOfMonth &lt; 1) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;270</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                            <span class="comment">// We've wrapped back a month</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;271</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 271: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 271: statement executed 20 times.">                            month--;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;272</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 272: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 272: statement executed 20 times.">                            dayOfMonth += numberOfDaysInMonth(month, year);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;273</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 273: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 273: statement executed 20 times.">                            retry = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;274</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;275</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;276</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 276: statement executed 75 times.">&nbsp;75</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 276: statement executed 75 times.">                        <span class="keyword">if</span> (currentDOW != testDOW) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;277</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 277: statement executed 50 times.">&nbsp;50</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 277: statement executed 50 times.">                            hour = lookupMax[HOUR];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;278</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 278: statement executed 50 times.">&nbsp;50</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 278: statement executed 50 times.">                            minute = lookupMax[MINUTE];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;279</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;280</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;281</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 281: statement executed 75 times.">&nbsp;75</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 281: statement executed 75 times.">                        <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;282</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;283</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;284</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 284: statement executed 185 times.">&nbsp;185</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 284: statement executed 185 times.">                    daysLost++;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;285</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;286</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;287</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 287: statement executed 75 times.">&nbsp;75</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 287: statement executed 75 times.">                <span class="keyword">if</span> (retry) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;288</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 288: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 288: statement executed 20 times.">                    <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;289</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;290</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;291</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;292</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// Clean up if the hour has been wrapped</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;293</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 293: statement executed 20050275 times.">&nbsp;20050275</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 293: statement executed 20050275 times.">            <span class="keyword">if</span> (hour &lt; 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;294</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 294: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 294: statement executed 15 times.">                hour += 24;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;295</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 295: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 295: statement executed 15 times.">                dayOfMonth--;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;296</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 296: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 296: statement executed 15 times.">                <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;297</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;298</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;299</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// get hour...................................................</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;300</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 300: statement executed 20050260 times.">&nbsp;20050260</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 300: statement executed 20050260 times.">            <span class="keyword">if</span> (validHours != Long.MAX_VALUE) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;301</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                <span class="comment">// Find the highest valid hour that is below the current hour</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;302</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 302: expression evaluated to true 10050620 times, false 0 times.">&nbsp;10050620</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 302: expression evaluated to true 10050620 times, false 0 times.">                <span class="keyword">for</span> (<span class="keyword">int</span> i = hour + 24; i &gt; hour; i--) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;303</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 303: statement executed 10050620 times.">&nbsp;10050620</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 303: statement executed 10050620 times.">                    <span class="keyword">int</span> testHour = i % 24;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;304</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;305</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 305: statement executed 10050620 times.">&nbsp;10050620</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 305: statement executed 10050620 times.">                    <span class="keyword">if</span> (((1L &lt;&lt; testHour) &amp; validHours) != 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;306</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 306: statement executed 10050150 times.">&nbsp;10050150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 306: statement executed 10050150 times.">                        <span class="keyword">if</span> (testHour &gt; hour) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;307</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                            <span class="comment">// We've found an hour, but we had to move back a day</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;308</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 308: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 308: statement executed 20 times.">                            dayOfMonth--;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;309</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 309: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 309: statement executed 20 times.">                            retry = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;310</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;311</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;312</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 312: statement executed 10050150 times.">&nbsp;10050150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 312: statement executed 10050150 times.">                        <span class="keyword">if</span> (hour != testHour) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;313</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 313: statement executed 40 times.">&nbsp;40</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 313: statement executed 40 times.">                            minute = lookupMax[MINUTE];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;314</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;315</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;316</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 316: statement executed 10050150 times.">&nbsp;10050150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 316: statement executed 10050150 times.">                        hour = testHour;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;317</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 317: statement executed 10050150 times.">&nbsp;10050150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 317: statement executed 10050150 times.">                        <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;318</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;319</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;320</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;321</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 321: statement executed 10050150 times.">&nbsp;10050150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 321: statement executed 10050150 times.">                <span class="keyword">if</span> (retry) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;322</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 322: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 322: statement executed 20 times.">                    <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;323</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;324</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;325</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;326</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// get minute.................................................</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;327</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 327: statement executed 20050240 times.">&nbsp;20050240</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 327: statement executed 20050240 times.">            <span class="keyword">if</span> (validMinutes != Long.MAX_VALUE) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;328</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                <span class="comment">// Find the highest valid minute that is below the current minute</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;329</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 329: expression evaluated to true 10051055 times, false 0 times.">&nbsp;10051055</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 329: expression evaluated to true 10051055 times, false 0 times.">                <span class="keyword">for</span> (<span class="keyword">int</span> i = minute + 60; i &gt; minute; i--) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;330</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 330: statement executed 10051055 times.">&nbsp;10051055</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 330: statement executed 10051055 times.">                    <span class="keyword">int</span> testMinute = i % 60;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;331</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;332</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 332: statement executed 10051055 times.">&nbsp;10051055</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 332: statement executed 10051055 times.">                    <span class="keyword">if</span> (((1L &lt;&lt; testMinute) &amp; validMinutes) != 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;333</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 333: statement executed 10050150 times.">&nbsp;10050150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 333: statement executed 10050150 times.">                        <span class="keyword">if</span> (testMinute &gt; minute) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;334</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                            <span class="comment">// We've found a minute, but we had to move back an hour</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;335</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 335: statement executed 30 times.">&nbsp;30</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 335: statement executed 30 times.">                            hour--;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;336</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 336: statement executed 30 times.">&nbsp;30</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 336: statement executed 30 times.">                            retry = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;337</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;338</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;339</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 339: statement executed 10050150 times.">&nbsp;10050150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 339: statement executed 10050150 times.">                        minute = testMinute;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;340</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 340: statement executed 10050150 times.">&nbsp;10050150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 340: statement executed 10050150 times.">                        <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;341</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;342</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;343</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;344</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 344: statement executed 10050150 times.">&nbsp;10050150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 344: statement executed 10050150 times.">                <span class="keyword">if</span> (retry) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;345</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 345: statement executed 30 times.">&nbsp;30</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 345: statement executed 30 times.">                    <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;346</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;347</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;348</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;349</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 349: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 349: statement executed 20050210 times.">            <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;350</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;351</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;352</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        <span class="comment">// OK, all done. Return the adjusted time value (adjusting this is faster than creating a new Calendar object)</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;353</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 353: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 353: statement executed 20050210 times.">        cal.set(Calendar.YEAR, year);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;354</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 354: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 354: statement executed 20050210 times.">        cal.set(Calendar.MONTH, month - 1); <span class="comment">// Calendar is 0-based for this field, and we are 1-based</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;355</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 355: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 355: statement executed 20050210 times.">        cal.set(Calendar.DAY_OF_MONTH, dayOfMonth);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;356</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 356: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 356: statement executed 20050210 times.">        cal.set(Calendar.HOUR_OF_DAY, hour);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;357</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 357: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 357: statement executed 20050210 times.">        cal.set(Calendar.MINUTE, minute);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;358</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 358: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 358: statement executed 20050210 times.">        cal.set(Calendar.SECOND, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;359</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 359: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 359: statement executed 20050210 times.">        cal.set(Calendar.MILLISECOND, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;360</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;361</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 361: statement executed 20050210 times.">&nbsp;20050210</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 361: statement executed 20050210 times.">        <span class="keyword">return</span> cal.getTime().getTime();</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;362</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;363</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;364</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;365</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Takes a cron expression as an input parameter, and extracts from it the</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;366</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * relevant minutes/hours/days/months that the expression matches.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;367</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;368</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> expression  A valid cron expression.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;369</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@throws</span> ParseException If the supplied expression could not be parsed.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;370</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;371</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 371: method entered 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 371: method entered 10050410 times.">    <span class="keyword">private</span> <span class="keyword">void</span> parseExpression(String expression) <span class="keyword">throws</span> ParseException {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;372</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 372: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 372: statement executed 10050410 times.">        <span class="keyword">try</span> {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;373</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// Reset all the lookup data</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;374</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 374: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 374: statement executed 10050410 times.">            <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; lookup.length; lookup[i++] = 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;375</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 375: statement executed 50252050 times.">&nbsp;50252050</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 375: statement executed 50252050 times.">                lookupMin[i] = Integer.MAX_VALUE;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;376</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 376: statement executed 50252050 times.">&nbsp;50252050</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 376: statement executed 50252050 times.">                lookupMax[i] = -1;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;377</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;378</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;379</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// Create some character arrays to hold the extracted field values</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;380</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 380: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 380: statement executed 10050410 times.">            <span class="keyword">char</span>[][] token = <span class="keyword">new</span> <span class="keyword">char</span>[NUMBER_OF_CRON_FIELDS][];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;381</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;382</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// Extract the supplied expression into another character array</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;383</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// for speed</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;384</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 384: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 384: statement executed 10050410 times.">            <span class="keyword">int</span> length = expression.length();</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;385</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 385: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 385: statement executed 10050410 times.">            <span class="keyword">char</span>[] expr = <span class="keyword">new</span> <span class="keyword">char</span>[length];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;386</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 386: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 386: statement executed 10050410 times.">            expression.getChars(0, length, expr, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;387</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;388</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 388: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 388: statement executed 10050410 times.">            <span class="keyword">int</span> field = 0;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;389</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 389: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 389: statement executed 10050410 times.">            <span class="keyword">int</span> startIndex = 0;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;390</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 390: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 390: statement executed 10050410 times.">            <span class="keyword">boolean</span> inWhitespace = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;391</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;392</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// Extract the various cron fields from the expression</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;393</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 393: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 393: statement executed 10050410 times.">            <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; (i &lt; length) &amp;&amp; (field &lt; NUMBER_OF_CRON_FIELDS);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;394</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    i++) {</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;395</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 395: statement executed 250655680 times.">&nbsp;250655680</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 395: statement executed 250655680 times.">                <span class="keyword">boolean</span> haveChar = (expr[i] != ' ') &amp;&amp; (expr[i] != '\t');</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;396</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;397</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 397: statement executed 250655680 times.">&nbsp;250655680</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 397: statement executed 250655680 times.">                <span class="keyword">if</span> (haveChar) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;398</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    <span class="comment">// We have a text character of some sort</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;399</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 399: statement executed 210454025 times.">&nbsp;210454025</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 399: statement executed 210454025 times.">                    <span class="keyword">if</span> (inWhitespace) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;400</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 400: statement executed 50252020 times.">&nbsp;50252020</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 400: statement executed 50252020 times.">                        startIndex = i; <span class="comment">// Remember the start of this token</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;401</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 401: statement executed 50252020 times.">&nbsp;50252020</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 401: statement executed 50252020 times.">                        inWhitespace = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;402</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;403</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;404</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;405</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 405: statement executed 250655680 times.">&nbsp;250655680</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 405: statement executed 250655680 times.">                <span class="keyword">if</span> (i == (length - 1)) { <span class="comment">// Adjustment for when we reach the end of the expression</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;406</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 406: statement executed 10050405 times.">&nbsp;10050405</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 406: statement executed 10050405 times.">                    i++;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;407</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;408</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;409</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 409: statement executed 250655680 times.">&nbsp;250655680</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 409: statement executed 250655680 times.">                <span class="keyword">if</span> (!(haveChar || inWhitespace) || (i == length)) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;410</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    <span class="comment">// We've reached the end of a token. Copy it into a new char array</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;411</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 411: statement executed 50252020 times.">&nbsp;50252020</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 411: statement executed 50252020 times.">                    token[field] = <span class="keyword">new</span> <span class="keyword">char</span>[i - startIndex];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;412</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 412: statement executed 50252020 times.">&nbsp;50252020</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 412: statement executed 50252020 times.">                    System.arraycopy(expr, startIndex, token[field], 0, i - startIndex);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;413</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 413: statement executed 50252020 times.">&nbsp;50252020</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 413: statement executed 50252020 times.">                    inWhitespace = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;414</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 414: statement executed 50252020 times.">&nbsp;50252020</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 414: statement executed 50252020 times.">                    field++;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;415</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;416</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;417</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;418</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 418: statement executed 10050410 times.">&nbsp;10050410</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 418: statement executed 10050410 times.">            <span class="keyword">if</span> (field &lt; NUMBER_OF_CRON_FIELDS) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;419</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 419: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 419: statement executed 10 times.">                <span class="keyword">throw</span> <span class="keyword">new</span> ParseException(<span class="string">"Unexpected end of expression while parsing \""</span> + expression + <span class="string">"\". Cron expressions require 5 separate fields."</span>, length);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;420</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;421</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;422</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// OK, we've broken the string up into the 5 cron fields, now lets add</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;423</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// each field to their lookup table.</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;424</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 424: statement executed 10050400 times.">&nbsp;10050400</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 424: statement executed 10050400 times.">            <span class="keyword">for</span> (field = 0; field &lt; NUMBER_OF_CRON_FIELDS; field++) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;425</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 425: statement executed 50251820 times.">&nbsp;50251820</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 425: statement executed 50251820 times.">                startIndex = 0;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;426</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;427</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 427: statement executed 50251820 times.">&nbsp;50251820</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 427: statement executed 50251820 times.">                <span class="keyword">boolean</span> inDelimiter = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;428</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;429</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                <span class="comment">// We add each comma-delimited element seperately.</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;430</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 430: statement executed 50251820 times.">&nbsp;50251820</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 430: statement executed 50251820 times.">                <span class="keyword">int</span> elementLength = token[field].length;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;431</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;432</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 432: statement executed 50251820 times.">&nbsp;50251820</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 432: statement executed 50251820 times.">                <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; elementLength; i++) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;433</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 433: statement executed 210453815 times.">&nbsp;210453815</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 433: statement executed 210453815 times.">                    <span class="keyword">boolean</span> haveElement = token[field][i] != ',';</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;434</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;435</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 435: statement executed 210453815 times.">&nbsp;210453815</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 435: statement executed 210453815 times.">                    <span class="keyword">if</span> (haveElement) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;436</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        <span class="comment">// We have a character from an element in the token</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;437</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 437: statement executed 170453620 times.">&nbsp;170453620</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 437: statement executed 170453620 times.">                        <span class="keyword">if</span> (inDelimiter) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;438</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 438: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 438: statement executed 90252015 times.">                            startIndex = i;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;439</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 439: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 439: statement executed 90252015 times.">                            inDelimiter = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;440</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;441</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;442</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;443</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 443: statement executed 210453815 times.">&nbsp;210453815</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 443: statement executed 210453815 times.">                    <span class="keyword">if</span> (i == (elementLength - 1)) { <span class="comment">// Adjustment for when we reach the end of the token</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;444</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 444: statement executed 50251820 times.">&nbsp;50251820</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 444: statement executed 50251820 times.">                        i++;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;445</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;446</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;447</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 447: statement executed 210453815 times.">&nbsp;210453815</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 447: statement executed 210453815 times.">                    <span class="keyword">if</span> (!(haveElement || inDelimiter) || (i == elementLength)) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;448</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        <span class="comment">// We've reached the end of an element. Copy it into a new char array</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;449</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 449: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 449: statement executed 90252015 times.">                        <span class="keyword">char</span>[] element = <span class="keyword">new</span> <span class="keyword">char</span>[i - startIndex];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;450</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 450: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 450: statement executed 90252015 times.">                        System.arraycopy(token[field], startIndex, element, 0, i - startIndex);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;451</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;452</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        <span class="comment">// Add the element to our datastructure.</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;453</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 453: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 453: statement executed 90252015 times.">                        storeExpressionValues(element, field);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;454</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;455</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 455: statement executed 90251870 times.">&nbsp;90251870</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 455: statement executed 90251870 times.">                        inDelimiter = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;456</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;457</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;458</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;459</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 459: expression evaluated to true 0 times, false 50251675 times.">&nbsp;50251675</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 459: expression evaluated to true 0 times, false 50251675 times.">                <span class="keyword">if</span> (lookup[field] == 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;460</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 460: statement not executed.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 460: statement not executed.">                    <span class="keyword">throw</span> <span class="keyword">new</span> ParseException(<span class="string">"Token "</span> + <span class="keyword">new</span> String(token[field]) + <span class="string">" contains no valid entries for this field."</span>, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;461</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;462</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;463</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;464</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// Remove any months that will never be valid</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;465</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 465: statement executed 10050255 times.">&nbsp;10050255</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 465: statement executed 10050255 times.">            <span class="keyword">switch</span> (lookupMin[DAY_OF_MONTH]) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;466</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 466: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 466: statement executed 5 times.">                <span class="keyword">case</span> 31:</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;467</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 467: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 467: statement executed 5 times.">                    lookup[MONTH] &amp;= (0xFFF - 0x528); <span class="comment">// Binary 010100101000 - the months that have 30 days</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;468</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 468: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 468: statement executed 10 times.">                <span class="keyword">case</span> 30:</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;469</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 469: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 469: statement executed 15 times.">                    lookup[MONTH] &amp;= (0xFFF - 0x2); <span class="comment">// Binary 000000000010 - February</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;470</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;471</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 471: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 471: statement executed 15 times.">                    <span class="keyword">if</span> (lookup[MONTH] == 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;472</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 472: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 472: statement executed 10 times.">                        <span class="keyword">throw</span> <span class="keyword">new</span> ParseException(<span class="string">"The cron expression \""</span> + expression + <span class="string">"\" will never match any months - the day of month field is out of range."</span>, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;473</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;474</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;475</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;476</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// Check that we don't have both a day of month and a day of week field.</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;477</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 477: statement executed 10050245 times.">&nbsp;10050245</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 477: statement executed 10050245 times.">            <span class="keyword">if</span> ((lookup[DAY_OF_MONTH] != Long.MAX_VALUE) &amp;&amp; (lookup[DAY_OF_WEEK] != Long.MAX_VALUE)) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;478</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 478: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 478: statement executed 5 times.">                <span class="keyword">throw</span> <span class="keyword">new</span> ParseException(<span class="string">"The cron expression \""</span> + expression + <span class="string">"\" is invalid. Having both a day-of-month and day-of-week field is not supported."</span>, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;479</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;480</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        } <span class="keyword">catch</span> (Exception e) {</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;481</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 481: expression evaluated to true 170 times, false 0 times.">&nbsp;170</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 481: expression evaluated to true 170 times, false 0 times.">            <span class="keyword">if</span> (e <span class="keyword">instanceof</span> ParseException) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;482</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 482: statement executed 170 times.">&nbsp;170</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 482: statement executed 170 times.">                <span class="keyword">throw</span> (ParseException) e;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;483</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            } <span class="keyword">else</span> {</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;484</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 484: statement not executed.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 484: statement not executed.">                <span class="keyword">throw</span> <span class="keyword">new</span> ParseException(<span class="string">"Illegal cron expression format ("</span> + e.toString() + <span class="string">")"</span>, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;485</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;486</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;487</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;488</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;489</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;490</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Stores the values for the supplied cron element into the specified field.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;491</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;492</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> element  The cron element to store. A cron element is a single component</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;493</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * of a cron expression. For example, the complete set of elements for the cron expression</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;494</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * &lt;code&gt;30 0,6,12,18 * * *&lt;/code&gt; would be &lt;code&gt;{"30", "0", "6", "12", "18", "*", "*", "*"}&lt;/code&gt;.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;495</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> field  The field that this expression belongs to. Valid values are {@link #MINUTE},</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;496</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * {@link #HOUR}, {@link #DAY_OF_MONTH}, {@link #MONTH} and {@link #DAY_OF_WEEK}.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;497</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;498</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@throws</span> ParseException if there was a problem parsing the supplied element.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;499</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;500</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 500: method entered 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 500: method entered 90252015 times.">    <span class="keyword">private</span> <span class="keyword">void</span> storeExpressionValues(<span class="keyword">char</span>[] element, <span class="keyword">int</span> field) <span class="keyword">throws</span> ParseException {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;501</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 501: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 501: statement executed 90252015 times.">        <span class="keyword">int</span> i = 0;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;502</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;503</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 503: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 503: statement executed 90252015 times.">        <span class="keyword">int</span> start = -99;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;504</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 504: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 504: statement executed 90252015 times.">        <span class="keyword">int</span> end = -99;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;505</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 505: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 505: statement executed 90252015 times.">        <span class="keyword">int</span> interval = -1;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;506</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 506: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 506: statement executed 90252015 times.">        <span class="keyword">boolean</span> wantValue = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;507</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 507: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 507: statement executed 90252015 times.">        <span class="keyword">boolean</span> haveInterval = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;508</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;509</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 509: statement executed 90252015 times.">&nbsp;90252015</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 509: statement executed 90252015 times.">        <span class="keyword">while</span> ((interval &lt; 0) &amp;&amp; (i &lt; element.length)) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;510</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 510: statement executed 130252415 times.">&nbsp;130252415</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 510: statement executed 130252415 times.">            <span class="keyword">char</span> ch = element[i++];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;511</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;512</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// Handle the wildcard character - it can only ever occur at the start of an element</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;513</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 513: statement executed 130252415 times.">&nbsp;130252415</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 513: statement executed 130252415 times.">            <span class="keyword">if</span> ((i == 1) &amp;&amp; (ch == '*')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;514</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                <span class="comment">// Handle the special case where we have '*' and nothing else</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;515</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 515: statement executed 30051165 times.">&nbsp;30051165</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 515: statement executed 30051165 times.">                <span class="keyword">if</span> (i &gt;= element.length) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;516</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 516: statement executed 30051160 times.">&nbsp;30051160</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 516: statement executed 30051160 times.">                    addToLookup(-1, -1, field, 1);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;517</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 517: statement executed 30051160 times.">&nbsp;30051160</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 517: statement executed 30051160 times.">                    <span class="keyword">return</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;518</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;519</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;520</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 520: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 520: statement executed 5 times.">                start = -1;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;521</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 521: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 521: statement executed 5 times.">                end = -1;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;522</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 522: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 522: statement executed 5 times.">                wantValue = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;523</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 523: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 523: statement executed 5 times.">                <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;524</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;525</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;526</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 526: statement executed 100201250 times.">&nbsp;100201250</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 526: statement executed 100201250 times.">            <span class="keyword">if</span> (wantValue) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;527</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                <span class="comment">// Handle any numbers</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;528</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 528: statement executed 80201045 times.">&nbsp;80201045</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 528: statement executed 80201045 times.">                <span class="keyword">if</span> ((ch &gt;= '0') &amp;&amp; (ch &lt;= '9')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;529</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 529: statement executed 80200805 times.">&nbsp;80200805</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 529: statement executed 80200805 times.">                    ValueSet vs = getValue(ch - '0', element, i);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;530</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;531</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 531: statement executed 80200805 times.">&nbsp;80200805</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 531: statement executed 80200805 times.">                    <span class="keyword">if</span> (start == -99) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;532</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 532: statement executed 60200650 times.">&nbsp;60200650</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 532: statement executed 60200650 times.">                        start = vs.value;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;533</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 533: statement executed 20000155 times.">&nbsp;20000155</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 533: statement executed 20000155 times.">                    } <span class="keyword">else</span> <span class="keyword">if</span> (!haveInterval) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;534</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 534: statement executed 20000100 times.">&nbsp;20000100</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 534: statement executed 20000100 times.">                        end = vs.value;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;535</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    } <span class="keyword">else</span> {</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;536</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 536: statement executed 55 times.">&nbsp;55</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 536: statement executed 55 times.">                        <span class="keyword">if</span> (end == -99) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;537</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 537: statement executed 30 times.">&nbsp;30</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 537: statement executed 30 times.">                            end = MAX_VALUE[field];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;538</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;539</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;540</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 540: statement executed 55 times.">&nbsp;55</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 540: statement executed 55 times.">                        interval = vs.value;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;541</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;542</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;543</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 543: statement executed 80200805 times.">&nbsp;80200805</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 543: statement executed 80200805 times.">                    i = vs.pos;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;544</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 544: statement executed 80200805 times.">&nbsp;80200805</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 544: statement executed 80200805 times.">                    wantValue = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;545</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 545: statement executed 80200805 times.">&nbsp;80200805</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 545: statement executed 80200805 times.">                    <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;546</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;547</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;548</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 548: expression evaluated to true 240 times, false 0 times.">&nbsp;240</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 548: expression evaluated to true 240 times, false 0 times.">                <span class="keyword">if</span> (!haveInterval &amp;&amp; (end == -99)) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;549</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    <span class="comment">// Handle any months that have been suplied as words</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;550</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 550: statement executed 240 times.">&nbsp;240</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 550: statement executed 240 times.">                    <span class="keyword">if</span> (field == MONTH) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;551</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 551: statement executed 135 times.">&nbsp;135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 551: statement executed 135 times.">                        <span class="keyword">if</span> (start == -99) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;552</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 552: statement executed 120 times.">&nbsp;120</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 552: statement executed 120 times.">                            start = getMonthVal(ch, element, i++);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;553</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        } <span class="keyword">else</span> {</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;554</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 554: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 554: statement executed 15 times.">                            end = getMonthVal(ch, element, i++);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;555</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;556</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;557</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 557: statement executed 85 times.">&nbsp;85</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 557: statement executed 85 times.">                        wantValue = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;558</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;559</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        <span class="comment">// Skip past the rest of the month name</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;560</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 560: statement executed 85 times.">&nbsp;85</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 560: statement executed 85 times.">                        <span class="keyword">while</span> (++i &lt; element.length) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;561</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 561: statement executed 135 times.">&nbsp;135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 561: statement executed 135 times.">                            <span class="keyword">int</span> c = element[i] | 0x20;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;562</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;563</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 563: statement executed 135 times.">&nbsp;135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 563: statement executed 135 times.">                            <span class="keyword">if</span> ((c &lt; 'a') || (c &gt; 'z')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;564</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 564: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 564: statement executed 20 times.">                                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;565</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;566</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;567</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;568</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 568: statement executed 85 times.">&nbsp;85</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 568: statement executed 85 times.">                        <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;569</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 569: statement executed 105 times.">&nbsp;105</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 569: statement executed 105 times.">                    } <span class="keyword">else</span> <span class="keyword">if</span> (field == DAY_OF_WEEK) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;570</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 570: statement executed 90 times.">&nbsp;90</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 570: statement executed 90 times.">                        <span class="keyword">if</span> (start == -99) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;571</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 571: statement executed 70 times.">&nbsp;70</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 571: statement executed 70 times.">                            start = getDayOfWeekVal(ch, element, i++);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;572</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        } <span class="keyword">else</span> {</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;573</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 573: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 573: statement executed 20 times.">                            end = getDayOfWeekVal(ch, element, i++);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;574</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;575</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;576</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 576: statement executed 60 times.">&nbsp;60</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 576: statement executed 60 times.">                        wantValue = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;577</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;578</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        <span class="comment">// Skip past the rest of the day name</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;579</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 579: statement executed 60 times.">&nbsp;60</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 579: statement executed 60 times.">                        <span class="keyword">while</span> (++i &lt; element.length) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;580</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 580: statement executed 120 times.">&nbsp;120</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 580: statement executed 120 times.">                            <span class="keyword">int</span> c = element[i] | 0x20;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;581</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;582</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 582: statement executed 120 times.">&nbsp;120</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 582: statement executed 120 times.">                            <span class="keyword">if</span> ((c &lt; 'a') || (c &gt; 'z')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;583</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 583: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 583: statement executed 20 times.">                                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;584</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;585</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;586</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;587</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 587: statement executed 60 times.">&nbsp;60</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 587: statement executed 60 times.">                        <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;588</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;589</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;590</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            } <span class="keyword">else</span> {</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;591</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                <span class="comment">// Handle the range character. A range character is only valid if we have a start but no end value</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;592</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 592: statement executed 20000205 times.">&nbsp;20000205</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 592: statement executed 20000205 times.">                <span class="keyword">if</span> ((ch == '-') &amp;&amp; (start != -99) &amp;&amp; (end == -99)) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;593</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 593: statement executed 20000140 times.">&nbsp;20000140</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 593: statement executed 20000140 times.">                    wantValue = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;594</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 594: statement executed 20000140 times.">&nbsp;20000140</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 594: statement executed 20000140 times.">                    <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;595</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;596</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;597</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                <span class="comment">// Handle an interval. An interval is valid as long as we have a start value</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;598</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 598: statement executed 65 times.">&nbsp;65</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 598: statement executed 65 times.">                <span class="keyword">if</span> ((ch == '/') &amp;&amp; (start != -99)) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;599</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 599: statement executed 55 times.">&nbsp;55</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 599: statement executed 55 times.">                    wantValue = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;600</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 600: statement executed 55 times.">&nbsp;55</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 600: statement executed 55 times.">                    haveInterval = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;601</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 601: statement executed 55 times.">&nbsp;55</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 601: statement executed 55 times.">                    <span class="keyword">continue</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;602</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;603</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;604</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;605</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 605: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 605: statement executed 25 times.">            <span class="keyword">throw</span> makeParseException(<span class="string">"Invalid character encountered while parsing element"</span>, element, i);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;606</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;607</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;608</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 608: statement executed 60200750 times.">&nbsp;60200750</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 608: statement executed 60200750 times.">        <span class="keyword">if</span> (element.length &gt; i) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;609</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 609: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 609: statement executed 5 times.">            <span class="keyword">throw</span> makeParseException(<span class="string">"Extraneous characters found while parsing element"</span>, element, i);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;610</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;611</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;612</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 612: statement executed 60200745 times.">&nbsp;60200745</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 612: statement executed 60200745 times.">        <span class="keyword">if</span> (end == -99) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;613</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 613: statement executed 40200590 times.">&nbsp;40200590</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 613: statement executed 40200590 times.">            end = start;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;614</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;615</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;616</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 616: statement executed 60200745 times.">&nbsp;60200745</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 616: statement executed 60200745 times.">        <span class="keyword">if</span> (interval &lt; 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;617</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 617: statement executed 60200695 times.">&nbsp;60200695</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 617: statement executed 60200695 times.">            interval = 1;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;618</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;619</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;620</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 620: statement executed 60200745 times.">&nbsp;60200745</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 620: statement executed 60200745 times.">        addToLookup(start, end, field, interval);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;621</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;622</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;623</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;624</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Extracts a numerical value from inside a character array.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;625</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;626</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> value    The value of the first character</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;627</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> element  The character array we're extracting the value from</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;628</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> i        The index into the array of the next character to process</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;629</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;630</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span> the new index and the extracted value</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;631</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;632</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 632: method entered 80200805 times.">&nbsp;80200805</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 632: method entered 80200805 times.">    <span class="keyword">private</span> ValueSet getValue(<span class="keyword">int</span> value, <span class="keyword">char</span>[] element, <span class="keyword">int</span> i) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;633</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 633: statement executed 80200805 times.">&nbsp;80200805</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 633: statement executed 80200805 times.">        ValueSet result = <span class="keyword">new</span> ValueSet();</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;634</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 634: statement executed 80200805 times.">&nbsp;80200805</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 634: statement executed 80200805 times.">        result.value = value;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;635</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;636</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 636: statement executed 80200805 times.">&nbsp;80200805</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 636: statement executed 80200805 times.">        <span class="keyword">if</span> (i &gt;= element.length) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;637</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 637: statement executed 30000365 times.">&nbsp;30000365</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 637: statement executed 30000365 times.">            result.pos = i;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;638</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 638: statement executed 30000365 times.">&nbsp;30000365</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 638: statement executed 30000365 times.">            <span class="keyword">return</span> result;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;639</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;640</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;641</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 641: statement executed 50200440 times.">&nbsp;50200440</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 641: statement executed 50200440 times.">        <span class="keyword">char</span> ch = element[i];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;642</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;643</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 643: statement executed 50200440 times.">&nbsp;50200440</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 643: statement executed 50200440 times.">        <span class="keyword">while</span> ((ch &gt;= '0') &amp;&amp; (ch &lt;= '9')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;644</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 644: statement executed 40200330 times.">&nbsp;40200330</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 644: statement executed 40200330 times.">            result.value = (result.value * 10) + (ch - '0');</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;645</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;646</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 646: statement executed 40200330 times.">&nbsp;40200330</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 646: statement executed 40200330 times.">            <span class="keyword">if</span> (++i &gt;= element.length) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;647</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 647: statement executed 30200275 times.">&nbsp;30200275</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 647: statement executed 30200275 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;648</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;649</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;650</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 650: statement executed 10000055 times.">&nbsp;10000055</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 650: statement executed 10000055 times.">            ch = element[i];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;651</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;652</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;653</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 653: statement executed 50200440 times.">&nbsp;50200440</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 653: statement executed 50200440 times.">        result.pos = i;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;654</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;655</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 655: statement executed 50200440 times.">&nbsp;50200440</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 655: statement executed 50200440 times.">        <span class="keyword">return</span> result;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;656</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;657</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;658</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;659</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Adds a group of valid values to the lookup table for the specified field. This method</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;660</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * handles ranges that increase in arbitrary step sizes. It is also possible to add a single</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;661</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * value by specifying a range with the same start and end values.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;662</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;663</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> start The starting value for the range. Supplying a value that is less than zero</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;664</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * will cause the minimum allowable value for the specified field to be used as the start value.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;665</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> end   The maximum value that can be added (ie the upper bound). If the step size is</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;666</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * greater than one, this maximum value may not necessarily end up being added. Supplying a</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;667</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * value that is less than zero will cause the maximum allowable value for the specified field</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;668</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * to be used as the upper bound.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;669</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> field The field that the values should be added to.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;670</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> interval Specifies the step size for the range. Any values less than one will be</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;671</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * treated as a single step interval.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;672</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;673</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 673: method entered 90251905 times.">&nbsp;90251905</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 673: method entered 90251905 times.">    <span class="keyword">private</span> <span class="keyword">void</span> addToLookup(<span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">int</span> field, <span class="keyword">int</span> interval) <span class="keyword">throws</span> ParseException {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;674</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        <span class="comment">// deal with the supplied range</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;675</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 675: statement executed 90251905 times.">&nbsp;90251905</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 675: statement executed 90251905 times.">        <span class="keyword">if</span> (start == end) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;676</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 676: statement executed 70251755 times.">&nbsp;70251755</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 676: statement executed 70251755 times.">            <span class="keyword">if</span> (start &lt; 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;677</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                <span class="comment">// We're setting the entire range of values</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;678</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 678: statement executed 30051165 times.">&nbsp;30051165</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 678: statement executed 30051165 times.">                start = lookupMin[field] = MIN_VALUE[field];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;679</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 679: statement executed 30051165 times.">&nbsp;30051165</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 679: statement executed 30051165 times.">                end = lookupMax[field] = MAX_VALUE[field];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;680</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;681</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 681: statement executed 30051165 times.">&nbsp;30051165</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 681: statement executed 30051165 times.">                <span class="keyword">if</span> (interval &lt;= 1) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;682</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 682: statement executed 30051160 times.">&nbsp;30051160</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 682: statement executed 30051160 times.">                    lookup[field] = Long.MAX_VALUE;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;683</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 683: statement executed 30051160 times.">&nbsp;30051160</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 683: statement executed 30051160 times.">                    <span class="keyword">return</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;684</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;685</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            } <span class="keyword">else</span> {</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;686</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                <span class="comment">// We're only setting a single value - check that it is in range</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;687</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 687: statement executed 40200590 times.">&nbsp;40200590</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 687: statement executed 40200590 times.">                <span class="keyword">if</span> (start &lt; MIN_VALUE[field]) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;688</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 688: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 688: statement executed 5 times.">                    <span class="keyword">throw</span> <span class="keyword">new</span> ParseException(<span class="string">"Value "</span> + start + <span class="string">" in field "</span> + field + <span class="string">" is lower than the minimum allowable value for this field (min="</span> + MIN_VALUE[field] + <span class="string">")"</span>, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;689</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 689: statement executed 40200585 times.">&nbsp;40200585</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 689: statement executed 40200585 times.">                } <span class="keyword">else</span> <span class="keyword">if</span> (start &gt; MAX_VALUE[field]) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;690</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 690: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 690: statement executed 10 times.">                    <span class="keyword">throw</span> <span class="keyword">new</span> ParseException(<span class="string">"Value "</span> + start + <span class="string">" in field "</span> + field + <span class="string">" is higher than the maximum allowable value for this field (max="</span> + MAX_VALUE[field] + <span class="string">")"</span>, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;691</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;692</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;693</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        } <span class="keyword">else</span> {</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;694</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            <span class="comment">// For ranges, if the start is bigger than the end value then swap them over</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;695</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 695: statement executed 20000150 times.">&nbsp;20000150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 695: statement executed 20000150 times.">            <span class="keyword">if</span> (start &gt; end) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;696</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 696: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 696: statement executed 10 times.">                end ^= start;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;697</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 697: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 697: statement executed 10 times.">                start ^= end;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;698</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 698: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 698: statement executed 10 times.">                end ^= start;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;699</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;700</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;701</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 701: expression evaluated to true 0 times, false 20000150 times.">&nbsp;20000150</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 701: expression evaluated to true 0 times, false 20000150 times.">            <span class="keyword">if</span> (start &lt; 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;702</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 702: statement not executed.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 702: statement not executed.">                start = MIN_VALUE[field];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;703</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 703: statement executed 20000150 times.">&nbsp;20000150</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 703: statement executed 20000150 times.">            } <span class="keyword">else</span> <span class="keyword">if</span> (start &lt; MIN_VALUE[field]) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;704</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 704: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 704: statement executed 10 times.">                <span class="keyword">throw</span> <span class="keyword">new</span> ParseException(<span class="string">"Value "</span> + start + <span class="string">" in field "</span> + field + <span class="string">" is lower than the minimum allowable value for this field (min="</span> + MIN_VALUE[field] + <span class="string">")"</span>, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;705</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;706</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;707</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 707: expression evaluated to true 0 times, false 20000140 times.">&nbsp;20000140</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 707: expression evaluated to true 0 times, false 20000140 times.">            <span class="keyword">if</span> (end &lt; 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;708</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 708: statement not executed.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 708: statement not executed.">                end = MAX_VALUE[field];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;709</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 709: statement executed 20000140 times.">&nbsp;20000140</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 709: statement executed 20000140 times.">            } <span class="keyword">else</span> <span class="keyword">if</span> (end &gt; MAX_VALUE[field]) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;710</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 710: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 710: statement executed 10 times.">                <span class="keyword">throw</span> <span class="keyword">new</span> ParseException(<span class="string">"Value "</span> + end + <span class="string">" in field "</span> + field + <span class="string">" is higher than the maximum allowable value for this field (max="</span> + MAX_VALUE[field] + <span class="string">")"</span>, 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;711</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;712</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;713</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;714</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 714: expression evaluated to true 0 times, false 60200710 times.">&nbsp;60200710</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 714: expression evaluated to true 0 times, false 60200710 times.">        <span class="keyword">if</span> (interval &lt; 1) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;715</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 715: statement not executed.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 715: statement not executed.">            interval = 1;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;716</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;717</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;718</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 718: statement executed 60200710 times.">&nbsp;60200710</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 718: statement executed 60200710 times.">        <span class="keyword">int</span> i = start - MIN_VALUE[field];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;719</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;720</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        <span class="comment">// Populate the lookup table by setting all the bits corresponding to the valid field values</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;721</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 721: statement executed 60200710 times.">&nbsp;60200710</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 721: statement executed 60200710 times.">        <span class="keyword">for</span> (i = start - MIN_VALUE[field]; i &lt;= (end - MIN_VALUE[field]);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;722</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                i += interval) {</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;723</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 723: statement executed 435201595 times.">&nbsp;435201595</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 723: statement executed 435201595 times.">            lookup[field] |= (1L &lt;&lt; i);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;724</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;725</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;726</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        <span class="comment">// Make sure we remember the minimum value set so far</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;727</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        <span class="comment">// Keep track of the highest and lowest values that have been added to this field so far</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;728</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 728: statement executed 60200710 times.">&nbsp;60200710</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 728: statement executed 60200710 times.">        <span class="keyword">if</span> (lookupMin[field] &gt; start) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;729</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 729: statement executed 20200520 times.">&nbsp;20200520</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 729: statement executed 20200520 times.">            lookupMin[field] = start;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;730</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;731</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;732</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 732: statement executed 60200710 times.">&nbsp;60200710</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 732: statement executed 60200710 times.">        i += (MIN_VALUE[field] - interval);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;733</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;734</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 734: statement executed 60200710 times.">&nbsp;60200710</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 734: statement executed 60200710 times.">        <span class="keyword">if</span> (lookupMax[field] &lt; i) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;735</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 735: statement executed 25200655 times.">&nbsp;25200655</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 735: statement executed 25200655 times.">            lookupMax[field] = i;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;736</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;737</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;738</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;739</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;740</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Indicates if a year is a leap year or not.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;741</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;742</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> year The year to check</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;743</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;744</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span> &lt;code&gt;true&lt;/code&gt; if the year is a leap year, &lt;code&gt;false&lt;/code&gt; otherwise.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;745</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;746</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 746: method entered 10100115 times.">&nbsp;10100115</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 746: method entered 10100115 times.">    <span class="keyword">private</span> <span class="keyword">boolean</span> isLeapYear(<span class="keyword">int</span> year) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;747</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 747: statement executed 10100115 times.">&nbsp;10100115</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 747: statement executed 10100115 times.">        <span class="keyword">return</span> (((year % 4) == 0) &amp;&amp; ((year % 100) != 0)) || ((year % 400) == 0);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;748</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;749</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;750</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;751</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Calculate the day of the week. Sunday = 0, Monday = 1, ... , Saturday = 6. The formula</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;752</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * used is an optimized version of Zeller's Congruence.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;753</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;754</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> day        The day of the month (1-31)</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;755</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> month      The month (1 - 12)</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;756</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> year       The year</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;757</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span></span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;758</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;759</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 759: method entered 75 times.">&nbsp;75</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 759: method entered 75 times.">    <span class="keyword">private</span> <span class="keyword">int</span> dayOfWeek(<span class="keyword">int</span> day, <span class="keyword">int</span> month, <span class="keyword">int</span> year) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;760</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 760: statement executed 75 times.">&nbsp;75</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 760: statement executed 75 times.">        day += ((month &lt; 3) ? year-- : (year - 2));</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;761</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 761: statement executed 75 times.">&nbsp;75</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 761: statement executed 75 times.">        <span class="keyword">return</span> ((((23 * month) / 9) + day + 4 + (year / 4)) - (year / 100) + (year / 400)) % 7;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;762</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;763</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;764</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;765</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Retrieves the number of days in the supplied month, taking into account leap years.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;766</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * If the month value is outside the range &lt;code&gt;MIN_VALUE[MONTH] - MAX_VALUE[MONTH]&lt;/code&gt;</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;767</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * then the year will be adjusted accordingly and the correct number of days will still</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;768</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * be returned.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;769</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;770</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> month The month of interest.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;771</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> year  The year we are checking.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;772</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;773</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span> The number of days in the month.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;774</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;775</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 775: method entered 30150360 times.">&nbsp;30150360</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 775: method entered 30150360 times.">    <span class="keyword">private</span> <span class="keyword">int</span> numberOfDaysInMonth(<span class="keyword">int</span> month, <span class="keyword">int</span> year) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;776</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 776: statement executed 30150360 times.">&nbsp;30150360</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 776: statement executed 30150360 times.">        <span class="keyword">while</span> (month &lt; 1) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;777</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 777: statement executed 40 times.">&nbsp;40</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 777: statement executed 40 times.">            month += 12;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;778</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 778: statement executed 40 times.">&nbsp;40</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 778: statement executed 40 times.">            year--;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;779</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;780</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;781</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 781: expression evaluated to true 0 times, false 30150360 times.">&nbsp;30150360</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 781: expression evaluated to true 0 times, false 30150360 times.">        <span class="keyword">while</span> (month &gt; 12) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;782</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 782: statement not executed.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 782: statement not executed.">            month -= 12;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;783</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 783: statement not executed.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 783: statement not executed.">            year++;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;784</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;785</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;786</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 786: statement executed 30150360 times.">&nbsp;30150360</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 786: statement executed 30150360 times.">        <span class="keyword">if</span> (month == 2) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;787</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 787: statement executed 10100115 times.">&nbsp;10100115</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 787: statement executed 10100115 times.">            <span class="keyword">return</span> isLeapYear(year) ? 29 : 28;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;788</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        } <span class="keyword">else</span> {</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;789</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 789: statement executed 20050245 times.">&nbsp;20050245</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 789: statement executed 20050245 times.">            <span class="keyword">return</span> DAYS_IN_MONTH[month - 1];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;790</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;791</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;792</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;793</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;794</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Quickly retrieves the day of week value (Sun = 0, ... Sat = 6) that corresponds to the</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;795</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * day name that is specified in the character array. Only the first 3 characters are taken</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;796</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * into account; the rest are ignored.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;797</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;798</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> element The character array</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;799</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> i       The index to start looking at</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;800</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span>        The day of week value</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;801</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;802</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 802: method entered 90 times.">&nbsp;90</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 802: method entered 90 times.">    <span class="keyword">private</span> <span class="keyword">int</span> getDayOfWeekVal(<span class="keyword">char</span> ch1, <span class="keyword">char</span>[] element, <span class="keyword">int</span> i) <span class="keyword">throws</span> ParseException {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;803</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 803: statement executed 90 times.">&nbsp;90</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 803: statement executed 90 times.">        <span class="keyword">if</span> ((i + 1) &gt;= element.length) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;804</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 804: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 804: statement executed 5 times.">            <span class="keyword">throw</span> makeParseException(<span class="string">"Unexpected end of element encountered while parsing a day name"</span>, element, i);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;805</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;806</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;807</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 807: statement executed 85 times.">&nbsp;85</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 807: statement executed 85 times.">        <span class="keyword">int</span> ch2 = element[i] | 0x20;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;808</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 808: statement executed 85 times.">&nbsp;85</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 808: statement executed 85 times.">        <span class="keyword">int</span> ch3 = element[i + 1] | 0x20;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;809</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;810</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 810: statement executed 85 times.">&nbsp;85</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 810: statement executed 85 times.">        <span class="keyword">switch</span> (ch1 | 0x20) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;811</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 811: statement executed 30 times.">&nbsp;30</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 811: statement executed 30 times.">            <span class="keyword">case</span> 's': <span class="comment">// Sunday, Saturday</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;812</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;813</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 813: statement executed 30 times.">&nbsp;30</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 813: statement executed 30 times.">                <span class="keyword">if</span> ((ch2 == 'u') &amp;&amp; (ch3 == 'n')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;814</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 814: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 814: statement executed 15 times.">                    <span class="keyword">return</span> 0;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;815</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;816</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;817</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 817: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 817: statement executed 15 times.">                <span class="keyword">if</span> ((ch2 == 'a') &amp;&amp; (ch3 == 't')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;818</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 818: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 818: statement executed 10 times.">                    <span class="keyword">return</span> 6;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;819</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;820</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;821</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 821: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 821: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;822</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 822: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 822: statement executed 10 times.">            <span class="keyword">case</span> 'm': <span class="comment">// Monday</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;823</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;824</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 824: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 824: statement executed 10 times.">                <span class="keyword">if</span> ((ch2 == 'o') &amp;&amp; (ch3 == 'n')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;825</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 825: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 825: statement executed 5 times.">                    <span class="keyword">return</span> 1;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;826</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;827</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;828</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 828: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 828: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;829</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 829: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 829: statement executed 25 times.">            <span class="keyword">case</span> 't': <span class="comment">// Tuesday, Thursday</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;830</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;831</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 831: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 831: statement executed 25 times.">                <span class="keyword">if</span> ((ch2 == 'u') &amp;&amp; (ch3 == 'e')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;832</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 832: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 832: statement executed 10 times.">                    <span class="keyword">return</span> 2;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;833</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;834</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;835</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 835: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 835: statement executed 15 times.">                <span class="keyword">if</span> ((ch2 == 'h') &amp;&amp; (ch3 == 'u')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;836</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 836: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 836: statement executed 10 times.">                    <span class="keyword">return</span> 4;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;837</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;838</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;839</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 839: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 839: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;840</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 840: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 840: statement executed 10 times.">            <span class="keyword">case</span> 'w': <span class="comment">// Wednesday</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;841</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;842</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 842: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 842: statement executed 10 times.">                <span class="keyword">if</span> ((ch2 == 'e') &amp;&amp; (ch3 == 'd')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;843</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 843: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 843: statement executed 5 times.">                    <span class="keyword">return</span> 3;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;844</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;845</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;846</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 846: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 846: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;847</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 847: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 847: statement executed 10 times.">            <span class="keyword">case</span> 'f': <span class="comment">// Friday</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;848</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;849</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 849: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 849: statement executed 10 times.">                <span class="keyword">if</span> ((ch2 == 'r') &amp;&amp; (ch3 == 'i')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;850</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 850: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 850: statement executed 5 times.">                    <span class="keyword">return</span> 5;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;851</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;852</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;853</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 853: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 853: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;854</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;855</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;856</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 856: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 856: statement executed 25 times.">        <span class="keyword">throw</span> makeParseException(<span class="string">"Unexpected character while parsing a day name"</span>, element, i - 1);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;857</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;858</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;859</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;860</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Quickly retrieves the month value (Jan = 1, ..., Dec = 12) that corresponds to the month</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;861</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * name that is specified in the character array. Only the first 3 characters are taken</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;862</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * into account; the rest are ignored.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;863</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;864</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> element The character array</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;865</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> i       The index to start looking at</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;866</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span>        The month value</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;867</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;868</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 868: method entered 135 times.">&nbsp;135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 868: method entered 135 times.">    <span class="keyword">private</span> <span class="keyword">int</span> getMonthVal(<span class="keyword">char</span> ch1, <span class="keyword">char</span>[] element, <span class="keyword">int</span> i) <span class="keyword">throws</span> ParseException {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;869</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 869: expression evaluated to true 0 times, false 135 times.">&nbsp;135</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 869: expression evaluated to true 0 times, false 135 times.">        <span class="keyword">if</span> ((i + 1) &gt;= element.length) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;870</TD>
<TD align="right" class="coverageCountHilight">
<A title="Line 870: statement not executed.">&nbsp;0</A>
</TD><TD class="srcCell"><SPAN class="srcLineHilight"><A title="Line 870: statement not executed.">            <span class="keyword">throw</span> makeParseException(<span class="string">"Unexpected end of element encountered while parsing a month name"</span>, element, i);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;871</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;872</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;873</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 873: statement executed 135 times.">&nbsp;135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 873: statement executed 135 times.">        <span class="keyword">int</span> ch2 = element[i] | 0x20;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;874</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 874: statement executed 135 times.">&nbsp;135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 874: statement executed 135 times.">        <span class="keyword">int</span> ch3 = element[i + 1] | 0x20;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;875</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;876</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 876: statement executed 135 times.">&nbsp;135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 876: statement executed 135 times.">        <span class="keyword">switch</span> (ch1 | 0x20) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;877</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 877: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 877: statement executed 35 times.">            <span class="keyword">case</span> 'j': <span class="comment">// January, June, July</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;878</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;879</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 879: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 879: statement executed 35 times.">                <span class="keyword">if</span> ((ch2 == 'a') &amp;&amp; (ch3 == 'n')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;880</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 880: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 880: statement executed 10 times.">                    <span class="keyword">return</span> 1;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;881</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;882</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;883</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 883: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 883: statement executed 25 times.">                <span class="keyword">if</span> (ch2 == 'u') {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;884</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 884: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 884: statement executed 20 times.">                    <span class="keyword">if</span> (ch3 == 'n') {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;885</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 885: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 885: statement executed 10 times.">                        <span class="keyword">return</span> 6;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;886</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;887</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;888</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 888: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 888: statement executed 10 times.">                    <span class="keyword">if</span> (ch3 == 'l') {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;889</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 889: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 889: statement executed 5 times.">                        <span class="keyword">return</span> 7;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;890</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;891</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;892</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;893</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 893: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 893: statement executed 10 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;894</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 894: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 894: statement executed 15 times.">            <span class="keyword">case</span> 'f': <span class="comment">// February</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;895</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;896</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 896: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 896: statement executed 15 times.">                <span class="keyword">if</span> ((ch2 == 'e') &amp;&amp; (ch3 == 'b')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;897</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 897: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 897: statement executed 10 times.">                    <span class="keyword">return</span> 2;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;898</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;899</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;900</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 900: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 900: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;901</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 901: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 901: statement executed 20 times.">            <span class="keyword">case</span> 'm': <span class="comment">// March, May</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;902</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;903</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 903: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 903: statement executed 20 times.">                <span class="keyword">if</span> (ch2 == 'a') {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;904</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 904: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 904: statement executed 15 times.">                    <span class="keyword">if</span> (ch3 == 'r') {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;905</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 905: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 905: statement executed 5 times.">                        <span class="keyword">return</span> 3;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;906</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;907</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;908</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 908: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 908: statement executed 10 times.">                    <span class="keyword">if</span> (ch3 == 'y') {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;909</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 909: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 909: statement executed 5 times.">                        <span class="keyword">return</span> 5;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;910</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;911</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;912</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;913</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 913: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 913: statement executed 10 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;914</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 914: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 914: statement executed 25 times.">            <span class="keyword">case</span> 'a': <span class="comment">// April, August</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;915</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;916</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 916: statement executed 25 times.">&nbsp;25</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 916: statement executed 25 times.">                <span class="keyword">if</span> ((ch2 == 'p') &amp;&amp; (ch3 == 'r')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;917</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 917: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 917: statement executed 10 times.">                    <span class="keyword">return</span> 4;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;918</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;919</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;920</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 920: statement executed 15 times.">&nbsp;15</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 920: statement executed 15 times.">                <span class="keyword">if</span> ((ch2 == 'u') &amp;&amp; (ch3 == 'g')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;921</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 921: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 921: statement executed 10 times.">                    <span class="keyword">return</span> 8;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;922</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;923</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;924</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 924: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 924: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;925</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 925: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 925: statement executed 10 times.">            <span class="keyword">case</span> 's': <span class="comment">// September</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;926</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;927</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 927: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 927: statement executed 10 times.">                <span class="keyword">if</span> ((ch2 == 'e') &amp;&amp; (ch3 == 'p')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;928</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 928: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 928: statement executed 5 times.">                    <span class="keyword">return</span> 9;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;929</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;930</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;931</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 931: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 931: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;932</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 932: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 932: statement executed 10 times.">            <span class="keyword">case</span> 'o': <span class="comment">// October</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;933</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;934</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 934: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 934: statement executed 10 times.">                <span class="keyword">if</span> ((ch2 == 'c') &amp;&amp; (ch3 == 't')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;935</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 935: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 935: statement executed 5 times.">                    <span class="keyword">return</span> 10;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;936</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;937</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;938</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 938: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 938: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;939</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 939: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 939: statement executed 10 times.">            <span class="keyword">case</span> 'n': <span class="comment">// November</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;940</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;941</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 941: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 941: statement executed 10 times.">                <span class="keyword">if</span> ((ch2 == 'o') &amp;&amp; (ch3 == 'v')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;942</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 942: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 942: statement executed 5 times.">                    <span class="keyword">return</span> 11;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;943</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;944</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;945</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 945: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 945: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;946</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 946: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 946: statement executed 10 times.">            <span class="keyword">case</span> 'd': <span class="comment">// December</span></A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;947</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;948</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 948: statement executed 10 times.">&nbsp;10</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 948: statement executed 10 times.">                <span class="keyword">if</span> ((ch2 == 'e') &amp;&amp; (ch3 == 'c')) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;949</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 949: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 949: statement executed 5 times.">                    <span class="keyword">return</span> 12;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;950</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;951</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;952</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 952: statement executed 5 times.">&nbsp;5</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 952: statement executed 5 times.">                <span class="keyword">break</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;953</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;954</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;955</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 955: statement executed 50 times.">&nbsp;50</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 955: statement executed 50 times.">        <span class="keyword">throw</span> makeParseException(<span class="string">"Unexpected character while parsing a month name"</span>, element, i - 1);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;956</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;957</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;958</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;959</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Recreates the original human-readable cron expression based on the internal</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;960</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * datastructure values.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;961</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;962</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span> A cron expression that corresponds to the current state of the</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;963</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * internal data structure.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;964</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;965</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 965: method entered 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 965: method entered 20 times.">    <span class="keyword">public</span> String getExpressionSummary() {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;966</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 966: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 966: statement executed 20 times.">        StringBuffer buf = <span class="keyword">new</span> StringBuffer();</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;967</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;968</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 968: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 968: statement executed 20 times.">        buf.append(getExpressionSetSummary(MINUTE)).append(' ');</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;969</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 969: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 969: statement executed 20 times.">        buf.append(getExpressionSetSummary(HOUR)).append(' ');</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;970</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 970: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 970: statement executed 20 times.">        buf.append(getExpressionSetSummary(DAY_OF_MONTH)).append(' ');</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;971</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 971: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 971: statement executed 20 times.">        buf.append(getExpressionSetSummary(MONTH)).append(' ');</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;972</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 972: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 972: statement executed 20 times.">        buf.append(getExpressionSetSummary(DAY_OF_WEEK));</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;973</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;974</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 974: statement executed 20 times.">&nbsp;20</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 974: statement executed 20 times.">        <span class="keyword">return</span> buf.toString();</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;975</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;976</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;977</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;978</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * &lt;p&gt;Converts the internal datastructure that holds a particular cron field into</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;979</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * a human-readable list of values of the field's contents. For example, if the</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;980</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * &lt;code&gt;DAY_OF_WEEK&lt;/code&gt; field was submitted that had Sunday and Monday specified,</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;981</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * the string &lt;code&gt;0,1&lt;/code&gt; would be returned.&lt;/p&gt;</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;982</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;983</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * &lt;p&gt;If the field contains all possible values, &lt;code&gt;*&lt;/code&gt; will be returned.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;984</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;985</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> field The field.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;986</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;987</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span> A human-readable string representation of the field's contents.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;988</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;989</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 989: method entered 100 times.">&nbsp;100</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 989: method entered 100 times.">    <span class="keyword">private</span> String getExpressionSetSummary(<span class="keyword">int</span> field) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;990</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 990: statement executed 100 times.">&nbsp;100</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 990: statement executed 100 times.">        <span class="keyword">if</span> (lookup[field] == Long.MAX_VALUE) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;991</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 991: statement executed 65 times.">&nbsp;65</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 991: statement executed 65 times.">            <span class="keyword">return</span> <span class="string">"*"</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;992</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;993</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;994</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 994: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 994: statement executed 35 times.">        StringBuffer buf = <span class="keyword">new</span> StringBuffer();</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;995</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;996</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 996: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 996: statement executed 35 times.">        <span class="keyword">boolean</span> first = <span class="keyword">true</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;997</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;998</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 998: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 998: statement executed 35 times.">        <span class="keyword">for</span> (<span class="keyword">int</span> i = MIN_VALUE[field]; i &lt;= MAX_VALUE[field]; i++) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;999</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 999: statement executed 1235 times.">&nbsp;1235</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 999: statement executed 1235 times.">            <span class="keyword">if</span> ((lookup[field] &amp; (1L &lt;&lt; (i - MIN_VALUE[field]))) != 0) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1000</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1000: statement executed 170 times.">&nbsp;170</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1000: statement executed 170 times.">                <span class="keyword">if</span> (!first) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1001</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1001: statement executed 135 times.">&nbsp;135</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1001: statement executed 135 times.">                    buf.append(<span class="string">","</span>);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1002</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                } <span class="keyword">else</span> {</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1003</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1003: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1003: statement executed 35 times.">                    first = <span class="keyword">false</span>;</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1004</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">                }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1005</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1006</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1006: statement executed 170 times.">&nbsp;170</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1006: statement executed 170 times.">                buf.append(String.valueOf(i));</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1007</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">            }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1008</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">        }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1009</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1010</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1010: statement executed 35 times.">&nbsp;35</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1010: statement executed 35 times.">        <span class="keyword">return</span> buf.toString();</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1011</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1012</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1013</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="comment">/**</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1014</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * Makes a &lt;code&gt;ParseException&lt;/code&gt;. The exception message is constructed by</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1015</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * taking the given message parameter and appending the supplied character data</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1016</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * to the end of it. for example, if &lt;code&gt;msg == "Invalid character</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1017</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * encountered"&lt;/code&gt; and &lt;code&gt;data == {'A','g','u','s','t'}&lt;/code&gt;, the resultant</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1018</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * error message would be &lt;code&gt;"Invalid character encountered [Agust]"&lt;/code&gt;.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1019</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1020</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> msg       The error message</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1021</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> data      The data that the message</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1022</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@param</span> offset    The offset into the data where the error was encountered.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1023</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    *</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1024</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    * <span class="javadoc">@return</span> a newly created &lt;code&gt;ParseException&lt;/code&gt; object.</span></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1025</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="comment">    */</span></SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1026</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1026: method entered 110 times.">&nbsp;110</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1026: method entered 110 times.">    <span class="keyword">private</span> ParseException makeParseException(String msg, <span class="keyword">char</span>[] data, <span class="keyword">int</span> offset) {</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1027</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1027: statement executed 110 times.">&nbsp;110</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1027: statement executed 110 times.">        <span class="keyword">char</span>[] buf = <span class="keyword">new</span> <span class="keyword">char</span>[msg.length() + data.length + 3];</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1028</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1028: statement executed 110 times.">&nbsp;110</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1028: statement executed 110 times.">        <span class="keyword">int</span> msgLen = msg.length();</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1029</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1029: statement executed 110 times.">&nbsp;110</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1029: statement executed 110 times.">        System.arraycopy(msg.toCharArray(), 0, buf, 0, msgLen);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1030</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1030: statement executed 110 times.">&nbsp;110</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1030: statement executed 110 times.">        buf[msgLen] = ' ';</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1031</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1031: statement executed 110 times.">&nbsp;110</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1031: statement executed 110 times.">        buf[msgLen + 1] = '[';</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1032</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1032: statement executed 110 times.">&nbsp;110</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1032: statement executed 110 times.">        System.arraycopy(data, 0, buf, msgLen + 2, data.length);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1033</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1033: statement executed 110 times.">&nbsp;110</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1033: statement executed 110 times.">        buf[buf.length - 1] = ']';</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCountHilight">
&nbsp;1034</TD>
<TD align="right" class="lineCountHilight">
<A title="Line 1034: statement executed 110 times.">&nbsp;110</A>
</TD><TD class="srcCell"><SPAN class="srcLine"><A title="Line 1034: statement executed 110 times.">        <span class="keyword">return</span> <span class="keyword">new</span> ParseException(<span class="keyword">new</span> String(buf), offset);</A>
</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1035</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    }</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1036</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">}</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1037</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1038</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"></SPAN></TD></TR><TR><TD align="right" class="lineCount">
<A name="ValueSet">&nbsp;1039</A></TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine"><span class="keyword">class</span> ValueSet {</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1040</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">public</span> <span class="keyword">int</span> pos;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1041</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">    <span class="keyword">public</span> <span class="keyword">int</span> value;</SPAN></TD></TR><TR><TD align="right" class="lineCount">
&nbsp;1042</TD>
<TD align="right" class="coverageCount">
&nbsp;&nbsp;
</TD><TD class="srcCell"><SPAN class="srcLine">}</SPAN></TD></TR></TBODY></TABLE>
<TABLE width="100%"><TR><TD class="hbreak" colspan="6">&nbsp;</TD></TR>
<TR><TD class="footer" colspan="6">
<table>
<tr>
 <td><a target="_new" href="http://www.cenqua.com/clover?2T"><img alt="Clover" src="../../../../img/logo.gif" border="0"></a></td><td nowrap><i>Report generated by </i><a target="_new" href="http://www.cenqua.com/clover?2T">Clover Code Coverage v1.3.9</a><i><BR>Sa Jul 7 2007 09:11:50 CEST</i>.</td>
<td>&nbsp;</td><td style="BORDER-LEFT: #9c9c9c 1px solid;">&nbsp;</td><td>Open Source License registered to the OpenSymphony Project. This license of Clover is provided to support the development of OpenSymphony only. </td>
</tr>
</table>
</td>
</tr></TABLE>
